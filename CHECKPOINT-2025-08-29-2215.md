# Checkpoint — 2025-08-29 22:15 (local)

Quick summary

- All core systems are working locally.
- Modular backend under `src/backend` with routes and server entry.
- Frontend built into `public/app.js` (esbuild) and modular React components in `src/frontend`.
- Playwright automation available at `/api/playwright/open-youtube`; `playwright/openYoutube.ts` launches headed Chromium.
- Memory is modularized under `src/backend/memory` with per-agent partitioning and helper `forAgent()`.
- `package.json` scripts updated to use the modular server (`src/backend/server.ts`) for dev and `dist/backend/server.js` for start.
- `.gitignore` added to exclude `.env`, `dist/`, `node_modules/`, and editor/OS files.

Files of interest (recently added/updated)

- src/backend/app.ts — express app wiring, static serving, route mounts
- src/backend/server.ts — server entry (starts the app)
- src/backend/routes/stream.ts — SSE streaming endpoint (uses agent memory-aware stream)
- src/backend/routes/playwright.ts — Playwright endpoint (calls openYouTube)
- src/backend/memory/index.ts — per-agent memory implementation (read/add/clear/list + forAgent)
- src/backend/memory/agents/ — placeholder folder for agent-specific memory implementations
- src/backend/routes/playwright.ts — routes and request handling for Playwright
- playwright/openYoutube.ts — simplified Playwright script (headed, optional wait-for-enter)
- agents/agent.ts — agent helpers (stream/call + uses backend memory functions)
- src/frontend/hooks/useChat.ts — chat hook (streaming reader)
- src/frontend/components/\* — modular React components
- package.json — scripts: `dev`, `build`, `start`, client build/watch commands
- .gitignore — ignore `.env`, `dist/`, `node_modules/` etc.

How to reproduce locally

1. Install dependencies (if not done):
   ```powershell
   npm install
   npx playwright install
   ```
2. Run in dev (server watcher + client watch):
   ```powershell
   npm run dev
   ```
   - Dev server runs `ts-node-dev src/backend/server.ts` and esbuild watch for the frontend. Visit http://localhost:3000
3. Build and run production-like:
   ```powershell
   npm run build
   npm start
   ```
   - `npm run build` runs `tsc` (emits `dist/`) and client bundle; `npm start` runs `node dist/backend/server.js`.
4. Trigger Playwright from the UI by clicking "Open YouTube (Playwright)" or POST to:
   ```powershell
   Invoke-RestMethod -Uri http://localhost:3000/api/playwright/open-youtube -Method Post -ContentType 'application/json' -Body '{}'
   ```

Notes / next steps

- Memory: per-agent stores are implemented; consider adding `/api/memory` routes for inspection and management.
- Security: consider adding simple auth (API key) and rate-limiting on automation endpoints before sharing.
- Persistence: swap `src/backend/memory` implementation for Redis/file if you need persistence across restarts.

Saved by automated assistant.
